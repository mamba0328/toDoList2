(()=>{"use strict";function e(){const e=document.getElementById("modalWindow"),t=document.getElementById("overlay");e.classList.remove("active"),t.classList.remove("active"),document.getElementById("notes").value="",document.getElementById("modalTaskName").value=""}const t=function(e,t="today",n="",a="",s){let l=Math.floor(1e5*Math.random());return{name:e,deadline:t,notes:n,tags:a,id:l,putTask:function(){if(console.log(this.deleted),null==this.deleted){let e=s(),t=[this.name,this.deadline,this.notes,this.tags,l];e.push(t),localStorage.setItem("task",JSON.stringify(e))}}}},n=function(e,t,n){const a=document.createElement("div");a.setAttribute("id","task"),a.classList.add(n),console.log(a.classList.value);const s=document.createElement("div");s.classList.add("completeCircle");const l=document.createElement("h3");l.classList.add("taskName"),l.setAttribute("id",n),l.innerText=e,a.appendChild(s),a.appendChild(l),0==t?document.getElementById("todayHolder").appendChild(a):1==t?document.getElementById("tommorowHolder").appendChild(a):document.getElementById("somedayHolder").appendChild(a)},a=function(e,t){const n=e.target.id;let a="";for(let e=0;e<t.length;e++)n==t[e].id&&(a=t[e]);return[a.name,a.deadline,a.id]};function s(){const e=document.getElementById("modalInfo"),t=document.getElementById("overlay");e.classList.remove("active"),t.classList.remove("active");const n=document.getElementById("apply");n.classList.contains(n.classList.value)&&n.classList.remove(n.classList.value)}const l=function(e){const t=Array.from(document.querySelectorAll(".tag"));for(let n=0;n<t.length;n++)e.includes(t[n].id)?t[n].classList.add("chosen"):t[n].classList.remove("chosen")},o=function(){const e=localStorage.getItem("task");return null!==e?JSON.parse(e):[]},r=function(e,t){localStorage.clear(),e.forEach((e=>{e.putTask()}))},d=[];let c="",i=[],m=o();0!=m&&m.forEach((e=>{let a=t(e[0],e[1],e[2],e[3],o);d.push(a),n(a.name,a.deadline,a.id)}));const g=document.getElementById("addATask");g.addEventListener("mouseover",(e=>{e.target.style.backgroundColor="rgb(36, 163, 26)"})),g.addEventListener("mouseleave",(e=>{e.target.style.backgroundColor="rgb(26, 153, 26)"})),g.addEventListener("click",(()=>{!function(e,t){e([]);const n=document.getElementById("modalWindow"),a=document.getElementById("overlay");n.classList.add("active"),a.classList.add("active"),Array.from(document.getElementsByClassName("deadline")).forEach((e=>{e.style.color="rgb(78,78,78)"}))}(l)})),document.getElementById("overlay").addEventListener("click",(()=>{e(),s(),c="",i=[]}));const u=document.getElementById("modalTaskName");u.addEventListener("mouseenter",(e=>{e.target.style.outline="solid",e.target.style.outlineWidth="1px",e.target.style.outlineColor="grey"})),u.addEventListener("mouseleave",(e=>{e.target.style.outline="none"}));const y=Array.from(document.getElementsByClassName("deadline"));y.forEach((e=>{e.addEventListener("mouseover",(e=>{""===c&&(e.target.style.color="rgba(26, 153, 26)")})),e.addEventListener("mouseout",(e=>{""===c&&(e.target.style.color="rgb(78, 78, 78)")}))}));for(let e=0;e<y.length;e++)y[e].addEventListener("click",(t=>(y.forEach((e=>{e.style.color="rgb(78,78,78)"})),t.target.style.color="rgba(26, 153, 26)",c=e)));const E=document.getElementById("saveTask");E.addEventListener("click",(()=>{if(0!=u.value){const a=document.getElementById("notes");let s=t(u.value,c,a.value,i,o);s.putTask(),d.push(s),n(s.name,s.deadline,s.id),c="",i=[],e()}else alert("You should enter at least name of the task")})),E.addEventListener("mouseover",(e=>{e.target.style.backgroundColor="rgb(26, 153, 26)"})),E.addEventListener("mouseleave",(e=>{e.target.style.backgroundColor="transparent"})),Array.from(document.getElementsByClassName("todoDeadline")).forEach((e=>{e.addEventListener("mouseover",(e=>{e.target.previousElementSibling?e.target.classList.add("mouseon"):(e.target.style.borderBottom="1.5px solid grey",e.target.style.color="black")})),e.addEventListener("mouseleave",(e=>{e.target.previousElementSibling?e.target.classList.remove("mouseon"):(e.target.style.borderBottom="none",e.target.style.color="rgb(100, 100, 100)")})),e.addEventListener("click",(e=>{"none"===e.target.nextElementSibling.style.display?e.target.nextElementSibling.style.display="flex":e.target.nextElementSibling.style.display="none"}))}));const v=document.querySelector("body");v.addEventListener("click",(e=>{e.target.matches(".completeCircle")&&(function(e,t,n,a){const s=e.target.parentElement.classList.value;let l=0;for(let e=0;e<t.length;e++)s==t[e].id&&(l=t[e],t[e].deleted=!0);const o=document.getElementById("competedTasks"),r=document.createElement("del");r.innerText=l.name,r.classList.add("completedTask"),r.setAttribute("id",l.id),o.appendChild(r),n(t,a)}(e,d,r,o),console.log(d),e.target.parentElement.remove())})),v.addEventListener("mouseover",(e=>{e.target.matches(".completeCircle")&&(e.target.style.border="2px solid green")})),v.addEventListener("mouseout",(e=>{e.target.matches(".completeCircle")&&(e.target.style.border="1.99px solid black")})),v.addEventListener("mouseover",(e=>{e.target.matches(".completedTask")&&e.target.classList.add("mouseon")})),v.addEventListener("mouseout",(e=>{e.target.matches(".completedTask")&&e.target.classList.remove("mouseon")})),v.addEventListener("click",(e=>{e.target.matches(".completedTask")&&(n(a(e,d)[0],a(e,d)[1],a(e,d)[2]),e.target.remove())})),Array.from(document.querySelectorAll(".tag")).forEach((e=>{e.addEventListener("click",(e=>{(function(e,t){if(t.includes(e.target.innerText))for(let n=0;n<t.length;n++)t[n]==e.target.innerText&&t.splice(n,1);else t.push(e.target.innerText)})(e,i),console.log(i),l(i)}))})),v.addEventListener("click",(e=>{e.target.matches(".taskName")&&(i=function(e,t,n,a){const s=e.target.parentElement.classList.value;let l="";for(let e=0;e<n.length;e++)s==n[e].id&&(l=n[e]);a=l.tags,t(l.tags),document.getElementById("taskInfoName").innerText=l.name,document.getElementById("taskInfoNotes").innerText=l.notes;const o=document.getElementById("modalInfo"),r=document.getElementById("overlay");o.classList.add("active"),r.classList.add("active");const d=Array.from(document.getElementsByClassName("infoDeadline"));return d.forEach((e=>{e.style.color="rgb(78,78,78)"})),0==l.deadline&&(d[0].style.color="rgba(26, 153, 26)"),1==l.deadline&&(d[1].style.color="rgba(26, 153, 26)"),2==l.deadline&&(d[2].style.color="rgba(26, 153, 26)"),document.getElementById("apply").classList.add(s),a}(e,l,d,i))})),document.getElementById("apply").addEventListener("click",(e=>{(function(e,t,n,a,s,l,o){const r=e.target.classList.value;let d="";for(let e=0;e<n.length;e++)r==n[e].id&&(d=n[e]);d.tags=t,e.target.classList.remove(r),d.deadline!=a&&(d.deadline=a,document.getElementById(d.id).parentElement.remove(),s(d.name,d.deadline,d.id)),l(n,o)})(e,i,d,c,n,r,o),s()}));const f=Array.from(document.getElementsByClassName("infoDeadline"));f.forEach((e=>{e.addEventListener("click",(e=>{f.forEach((e=>{e.style.color="rgb(78,78,78)"})),c=function(e,t){return e.target.style.color="rgb(26, 153, 26)","Today"==e.target.innerText&&(t=0),"Tommorow"==e.target.innerText&&(t=1),"Someday"==e.target.innerText&&(t=2),t}(e,c)}))})),document.getElementById("cancel").addEventListener("click",(()=>{s(),c="",i=[]}));const L=Array.from(document.getElementsByClassName("navigationTag"));L.forEach((e=>{e.addEventListener("mouseover",(t=>{e.classList.add(t.target.id)})),e.addEventListener("mouseleave",(t=>{Array.from(t.target.classList.value).includes("c")||e.classList.remove(t.target.id)})),e.addEventListener("click",(t=>{Array.from(t.target.classList.value).includes("c")?(e.classList.remove(t.target.id),e.classList.remove("chosen"),Array.from(document.getElementsByClassName("taskName")).forEach((e=>{e.parentElement.style.display="flex"}))):(L.forEach((e=>{e.classList.remove(e.id),e.classList.remove("chosen")})),e.classList.add(t.target.id),e.classList.add("chosen"),function(e,t){const n=e.target.innerText,a=Array.from(document.getElementsByClassName("taskName"));let s=[];for(let e=0;e<t.length;e++)for(let a=0;a<t.length;a++)n==t[e].tags[a]&&s.push(t[e].id);a.forEach((e=>{e.parentElement.style.display="none";for(let t=0;t<a.length;t++)s[t]==e.id&&(e.parentElement.style.display="flex")}))}(t,d))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRMkQsSUFDaENGLEdBQWE3RCxFQUFnQkcsR0FBRzlCLEtBQUswRixJQUNwQ0QsRUFBYTNFLEtBQUthLEVBQWdCRyxHQUFHNUIsSUFLakRVLEVBQU1pQyxTQUFRaEMsSUFDVkEsRUFBSzZELGNBQWN2QixNQUFNa0IsUUFBVSxPQUNuQyxJQUFJLElBQUl2QyxFQUFFLEVBQUdBLEVBQUVsQixFQUFNbUIsT0FBUUQsSUFDdEIyRCxFQUFhM0QsSUFBTWpCLEVBQUtYLEtBQ3ZCVyxFQUFLNkQsY0FBY3ZCLE1BQU1rQixRQUFVLFdMNFB2Q3NCLENBQWVqRSxFQUFHQyxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3QyLy4vc3JjL21vZGFsQXBwZWFyZW5jZS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdDIvLi9zcmMvdGFza0ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QyLy4vc3JjL3Nob3dUYXNrLmpzIiwid2VicGFjazovL3RvZG9saXN0Mi8uL3NyYy9yZXR1cm5Gcm9tRGVsZXRlZC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdDIvLi9zcmMvbW9kYWxJbmZvQXBwZWFyZW5jZS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdDIvLi9zcmMvbGlnaHRUaGVDaG9zZW5UYWcuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QyLy4vc3JjL2dldFRhc2tzRnJvbVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QyLy4vc3JjL3JlbW92ZUZyb21TdG9yYWdlLmpzIiwid2VicGFjazovL3RvZG9saXN0Mi8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdDIvLi9zcmMvdHJhbnNmZXJUb0RlbGV0ZWQuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QyLy4vc3JjL2Nob3NlVGFnLmpzIiwid2VicGFjazovL3RvZG9saXN0Mi8uL3NyYy9hcHBseUNoYW5nZXMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QyLy4vc3JjL2NoYW5nZURlYWRsaW5lLmpzIiwid2VicGFjazovL3RvZG9saXN0Mi8uL3NyYy9zaG93VGFnZWRUYXNrcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBvcGVuTW9kYWwobGlnaHRUaGVUYWcsIGNob3NlblRhZ3MpIHsgXHJcbiAgICBjaG9zZW5UYWdzID0gW107XHJcbiAgICBsaWdodFRoZVRhZyhjaG9zZW5UYWdzKTtcclxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsV2luZG93Jyk7XHJcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKVxyXG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgY29uc3QgZGVhZGxpbmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZWFkbGluZScpKTtcclxuICAgIGRlYWRsaW5lcy5mb3JFYWNoKGRlYWRsaW5lID0+IHsgXHJcbiAgICAgICAgZGVhZGxpbmUuc3R5bGUuY29sb3IgPSAncmdiKDc4LDc4LDc4KSdcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7IFxyXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxXaW5kb3cnKTtcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpO1xyXG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZXMnKTtcclxuICAgIHRleHRBcmVhLnZhbHVlID0gJyc7XHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRhc2tOYW1lJyk7XHJcbiAgICBpbnB1dC52YWx1ZSA9ICcnO1xyXG59XHJcblxyXG5leHBvcnQge29wZW5Nb2RhbCwgXHJcbmNsb3NlTW9kYWx9ICIsImZ1bmN0aW9uIG1ha2VUYXNrKG5hbWUsIGRlYWRsaW5lID0gJ3RvZGF5Jywgbm90ZXMgPSAnJywgdGFncyA9ICcnLCBnZXRUYXNrKXsgXHJcbiAgICBcclxuICAgIGxldCBkZWxldGVkID0gMDtcclxuICAgIGxldCBpZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDAwMDApOyAvL25lZWRlZCB0byBpZGVudGlmeSB0YXNrIFxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBwdXRUYXNrKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5kZWxldGVkKVxyXG4gICAgICAgIGlmKHRoaXMuZGVsZXRlZCA9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgIGxldCB0YXNrcyA9IGdldFRhc2soKTtcclxuICAgICAgICBsZXQgdGFzayA9IFt0aGlzLm5hbWUsIHRoaXMuZGVhZGxpbmUsIHRoaXMubm90ZXMsIHRoaXMudGFncywgaWRdO1xyXG4gICAgICAgIHRhc2tzLnB1c2godGFzayk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2snLCBKU09OLnN0cmluZ2lmeSh0YXNrcykpO1xyXG4gICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge25hbWUsIGRlYWRsaW5lLCBub3RlcywgdGFncywgaWQsIHB1dFRhc2t9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1ha2VUYXNrIiwiZnVuY3Rpb24gc2hvd1Rhc2sobmFtZSwgZGVhZGxpbmUsIGlkKSB7IFxyXG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGFzay5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Rhc2snKTtcclxuXHJcbiAgICB0YXNrLmNsYXNzTGlzdC5hZGQoaWQpO1xyXG4gICAgY29uc29sZS5sb2codGFzay5jbGFzc0xpc3QudmFsdWUpO1xyXG5cclxuICAgIGNvbnN0IGNvbXBsZXRlQ2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb21wbGV0ZUNpcmNsZS5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZUNpcmNsZScpO1xyXG5cclxuICAgIGNvbnN0IHRhc2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgIHRhc2tOYW1lLmNsYXNzTGlzdC5hZGQoJ3Rhc2tOYW1lJylcclxuICAgIHRhc2tOYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XHJcbiAgICB0YXNrTmFtZS5pbm5lclRleHQgPSBuYW1lO1xyXG5cclxuICAgIHRhc2suYXBwZW5kQ2hpbGQoY29tcGxldGVDaXJjbGUpO1xyXG4gICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrTmFtZSk7XHJcblxyXG4gICAgLy9jaGVrcyBpbiB3aGljaCB0YXNrWm9uZSBpdCB3aWxsIGJlIHNlbnQgXHJcblxyXG4gICAgaWYoZGVhZGxpbmUgPT0gMCl7IFxyXG4gICAgICAgIGNvbnN0IHRvZGF5SG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5SG9sZGVyJyk7IFxyXG4gICAgICAgIHRvZGF5SG9sZGVyLmFwcGVuZENoaWxkKHRhc2spO1xyXG4gICAgfSBlbHNlIGlmKCBkZWFkbGluZSA9PSAxKSB7IFxyXG4gICAgICAgIGNvbnN0IHRvbW1vcm93SG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvbW1vcm93SG9sZGVyJyk7IFxyXG4gICAgICAgIHRvbW1vcm93SG9sZGVyLmFwcGVuZENoaWxkKHRhc2spO1xyXG4gICAgfSBlbHNlIHsgXHJcbiAgICAgICAgY29uc3Qgc29tZWRheUhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb21lZGF5SG9sZGVyJyk7XHJcbiAgICAgICAgc29tZWRheUhvbGRlci5hcHBlbmRDaGlsZCh0YXNrKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2hvd1Rhc2s7ICIsImZ1bmN0aW9uIHJldHVybkZyb21Db21wbGV0ZWQoZSwgdGFza3NDb2xsZWN0aW9uKSB7IFxyXG5cclxuICAgIGNvbnN0IHRhc2tJZCA9IGUudGFyZ2V0LmlkO1xyXG4gICAgbGV0IHRhc2sgPSAnJztcclxuXHJcbiAgICBmb3IobGV0IGk9MDsgaTx0YXNrc0NvbGxlY3Rpb24ubGVuZ3RoOyBpKyspeyBcclxuICAgICAgICBpZih0YXNrSWQgPT0gdGFza3NDb2xsZWN0aW9uW2ldLmlkKSB7IFxyXG4gICAgICAgICAgICB0YXNrID0gdGFza3NDb2xsZWN0aW9uW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgcHJvcGVydGllcyA9IFt0YXNrLm5hbWUsIHRhc2suZGVhZGxpbmUsIHRhc2suaWRdO1xyXG4gICAgcmV0dXJuIHByb3BlcnRpZXNcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0dXJuRnJvbUNvbXBsZXRlZDsiLCJmdW5jdGlvbiBvcGVuTW9kYWxJbmZvKGUsIGxpZ2h0VGhlVGFnLCB0YXNrc0NvbGxlY3Rpb24sIGNob3NlblRhZ3MpIHtcclxuICAgIC8vc2hvd3Mgd2hpY2ggdGFncyB0aGUgdGFzayBoYXNcclxuICAgIGNvbnN0IHRhc2tJZCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnZhbHVlO1xyXG4gICAgbGV0IHRhc2sgPSAnJztcclxuICAgIFxyXG4gICAgZm9yKGxldCBpPTA7IGk8dGFza3NDb2xsZWN0aW9uLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBpZih0YXNrSWQgPT0gdGFza3NDb2xsZWN0aW9uW2ldLmlkKXsgXHJcbiAgICAgICAgICAgIHRhc2sgPSB0YXNrc0NvbGxlY3Rpb25baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNob3NlblRhZ3MgPSB0YXNrLnRhZ3NcclxuICAgIGxpZ2h0VGhlVGFnKHRhc2sudGFncylcclxuXHJcbiAgICAvL2NoYW5nZXMgbmFtZSB0byB0YXNrcyBcclxuICAgIGNvbnN0IHRhc2tOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tJbmZvTmFtZScpXHJcbiAgICB0YXNrTmFtZS5pbm5lclRleHQgPSB0YXNrLm5hbWVcclxuXHJcbiAgICAvL2NoYW5nZXMgbm90ZXMgdG8gdGFza3NcclxuICAgIGNvbnN0IHRhc2tOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrSW5mb05vdGVzJylcclxuICAgIHRhc2tOb3Rlcy5pbm5lclRleHQgPSB0YXNrLm5vdGVzXHJcblxyXG4gICAgY29uc3QgbW9kYWxJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsSW5mbycpO1xyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcbiAgICBtb2RhbEluZm8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgIC8vY2hhbmdlcyBkZWFkbGluZSBcclxuICAgIGNvbnN0IGluZm9EZWFkbGluZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luZm9EZWFkbGluZScpKTtcclxuXHJcbiAgICBpbmZvRGVhZGxpbmVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5jb2xvciA9ICdyZ2IoNzgsNzgsNzgpJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYodGFzay5kZWFkbGluZSA9PSAwKXsgXHJcbiAgICAgICAgaW5mb0RlYWRsaW5lc1swXS5zdHlsZS5jb2xvciA9ICdyZ2JhKDI2LCAxNTMsIDI2KSdcclxuICAgIH1cclxuICAgIGlmKHRhc2suZGVhZGxpbmUgPT0gMSl7IFxyXG4gICAgICAgIGluZm9EZWFkbGluZXNbMV0uc3R5bGUuY29sb3IgPSAncmdiYSgyNiwgMTUzLCAyNiknXHJcbiAgICB9XHJcbiAgICBpZih0YXNrLmRlYWRsaW5lID09IDIpeyBcclxuICAgICAgICBpbmZvRGVhZGxpbmVzWzJdLnN0eWxlLmNvbG9yID0gJ3JnYmEoMjYsIDE1MywgMjYpJ1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcGx5JylcclxuICAgIGFwcGx5QnV0dG9uLmNsYXNzTGlzdC5hZGQodGFza0lkKSAvL2hlbHBzIGluIGZ1cnRoZXIgaWRlbnRpZGljYXRpb25cclxuICAgIFxyXG4gICAgcmV0dXJuIGNob3NlblRhZ3NcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbEluZm8oKSB7IFxyXG4gICAgY29uc3QgbW9kYWxJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsSW5mbycpO1xyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcbiAgICBtb2RhbEluZm8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cclxuICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcGx5JylcclxuICAgIFxyXG4gICAgaWYoYXBwbHlCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKGFwcGx5QnV0dG9uLmNsYXNzTGlzdC52YWx1ZSkpe1xyXG4gICAgYXBwbHlCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShhcHBseUJ1dHRvbi5jbGFzc0xpc3QudmFsdWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge29wZW5Nb2RhbEluZm8sY2xvc2VNb2RhbEluZm99IiwiZnVuY3Rpb24gbGlnaHRUaGVUYWcoY2hvc2VuVGFncykgeyBcclxuICAgIGNvbnN0IHRhZ3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWcnKSk7XHJcbiAgICBmb3IobGV0IGk9MDsgaTx0YWdzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgaWYoY2hvc2VuVGFncy5pbmNsdWRlcyh0YWdzW2ldLmlkKSl7XHJcbiAgICAgICAgICAgICB0YWdzW2ldLmNsYXNzTGlzdC5hZGQoJ2Nob3NlbicpO1xyXG4gICAgICAgICB9IGVsc2UgeyBcclxuICAgICAgICAgICAgdGFnc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdjaG9zZW4nKTtcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBsaWdodFRoZVRhZyIsImxldCBnZXRUYXNrID0gZnVuY3Rpb24oKXsgXHJcbiAgICBjb25zdCB0YXNrc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXNrJylcclxuICAgICBpZih0YXNrc0xvY2FsU3RvcmFnZSAhPT0gbnVsbCl7XHJcbiAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0YXNrc0xvY2FsU3RvcmFnZSk7XHJcbiAgICAgfVxyXG4gIHJldHVybiBbXVxyXG4gfTtcclxuXHJcbiBleHBvcnQgZGVmYXVsdCBnZXRUYXNrIiwiZnVuY3Rpb24gcmVmcmVzaFN0b3JhZ2VkICh0YXNrc0NvbGxlY3Rpb24sIGdldFRhc2speyBcclxubG9jYWxTdG9yYWdlLmNsZWFyKClcclxudGFza3NDb2xsZWN0aW9uLmZvckVhY2godGFzayA9PiB7IFxyXG4gICAgdGFzay5wdXRUYXNrKCk7XHJcbn0pXHJcbn0gXHJcblxyXG5leHBvcnQgZGVmYXVsdCByZWZyZXNoU3RvcmFnZWQ7ICIsImltcG9ydCB7IG9wZW5Nb2RhbCwgY2xvc2VNb2RhbCB9IGZyb20gXCIuL21vZGFsQXBwZWFyZW5jZVwiOyBcclxuaW1wb3J0IG1ha2VUYXNrIGZyb20gXCIuL3Rhc2tGYWN0b3J5XCI7XHJcbmltcG9ydCBzaG93VGFzayBmcm9tIFwiLi9zaG93VGFza1wiO1xyXG5pbXBvcnQgdHJhbnNmZXJUYXNrIGZyb20gXCIuL3RyYW5zZmVyVG9EZWxldGVkXCI7XHJcbmltcG9ydCByZXR1cm5Gcm9tQ29tcGxldGVkIGZyb20gXCIuL3JldHVybkZyb21EZWxldGVkXCI7XHJcbmltcG9ydCB7b3Blbk1vZGFsSW5mbywgY2xvc2VNb2RhbEluZm99IGZyb20gXCIuL21vZGFsSW5mb0FwcGVhcmVuY2VcIjtcclxuaW1wb3J0IGxpZ2h0VGhlVGFnIGZyb20gXCIuL2xpZ2h0VGhlQ2hvc2VuVGFnXCI7XHJcbmltcG9ydCBjaG9zZVRhZyBmcm9tIFwiLi9jaG9zZVRhZ1wiO1xyXG5pbXBvcnQgYXBwbHlDaGFuZ2VzIGZyb20gXCIuL2FwcGx5Q2hhbmdlc1wiO1xyXG5pbXBvcnQgY2hhbmdlRGVhZGxpbmUgZnJvbSBcIi4vY2hhbmdlRGVhZGxpbmVcIjtcclxuaW1wb3J0IHtzaG93VGFnZWRUYXNrcywgY2xlYW5GaWx0ZXJzfSBmcm9tIFwiLi9zaG93VGFnZWRUYXNrc1wiO1xyXG5pbXBvcnQgZ2V0VGFzayBmcm9tIFwiLi9nZXRUYXNrc0Zyb21TdG9yYWdlXCI7XHJcbmltcG9ydCByZWZyZXNoU3RvcmFnZWQgZnJvbSBcIi4vcmVtb3ZlRnJvbVN0b3JhZ2VcIjtcclxuXHJcbmNvbnN0IHRhc2tzQ29sbGVjdGlvbiA9IFtdOyBcclxuY29uc3QgZGVsZXRlZENvbGxlY3Rpb24gPSBbXTtcclxubGV0IGNob3NlbkRlYWRsaW5lID0gJyc7IFxyXG5sZXQgY2hvc2VuVGFncyA9IFtdO1xyXG5cclxuLy9zaG93cyBzdG9yYWdlZCB0YXNrc1xyXG5sZXQgc3RvcmFnZWRUYXNrcyA9IGdldFRhc2soKTsgXHJcbmlmIChzdG9yYWdlZFRhc2tzICE9IDApIHsgXHJcbiAgICBzdG9yYWdlZFRhc2tzLmZvckVhY2godGFzayA9PiB7IFxyXG4gICAgbGV0IG5ld1Rhc2sgPSBtYWtlVGFzayh0YXNrWzBdLCB0YXNrWzFdLCB0YXNrWzJdLCB0YXNrWzNdLCBnZXRUYXNrKTtcclxuICAgIHRhc2tzQ29sbGVjdGlvbi5wdXNoKG5ld1Rhc2spO1xyXG4gICAgc2hvd1Rhc2sobmV3VGFzay5uYW1lLCBuZXdUYXNrLmRlYWRsaW5lLCBuZXdUYXNrLmlkKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8vYWRkIGEgdGFzayBidXR0b24gZnVuY3Rpb25hbGl0eSBcclxuY29uc3QgYWRkQVRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQVRhc2snKTsgXHJcblxyXG5hZGRBVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSkgPT4ge1xyXG4gICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzNiwgMTYzLCAyNiknO1xyXG59KVxyXG5hZGRBVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHtcclxuICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMjYsIDE1MywgMjYpJ1xyXG59KVxyXG5hZGRBVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG9wZW5Nb2RhbChsaWdodFRoZVRhZywgY2hvc2VuVGFncyk7XHJcbn0pXHJcblxyXG4vL21vZHVsZSBvdmVybGF5IGZ1bmN0aW9uYWxpdHlcclxuY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XHJcblxyXG5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY2xvc2VNb2RhbCgpO1xyXG4gICAgY2xvc2VNb2RhbEluZm8oKTtcclxuICAgIGNob3NlbkRlYWRsaW5lID0gJyc7XHJcbiAgICBjaG9zZW5UYWdzID0gW107XHJcbn0pXHJcblxyXG4vL21vZGFsIGlucHV0cyBmdW5jdGlvbmFsaXR5IFxyXG5jb25zdCB0YXNrTmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsVGFza05hbWUnKTsgXHJcbiBcclxudGFza05hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGUpID0+IHsgXHJcbiAgICBlLnRhcmdldC5zdHlsZS5vdXRsaW5lID0gJ3NvbGlkJztcclxuICAgIGUudGFyZ2V0LnN0eWxlLm91dGxpbmVXaWR0aCA9ICcxcHgnO1xyXG4gICAgZS50YXJnZXQuc3R5bGUub3V0bGluZUNvbG9yID0gJ2dyZXknO1xyXG59KVxyXG5cclxudGFza05hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHsgXHJcbiAgICBlLnRhcmdldC5zdHlsZS5vdXRsaW5lID0gJ25vbmUnXHJcbn0pXHJcblxyXG4vL21vZGFsIHdpbmRvdyBkZWFkbGluZXMgZnVuY3Rpb25hbGl0eVxyXG5jb25zdCBkZWFkbGluZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RlYWRsaW5lJykpO1xyXG5cclxuZGVhZGxpbmVzLmZvckVhY2goZGVhZGxpbmUgPT4geyBcclxuICAgIGRlYWRsaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKT0+IHtcclxuICAgICAgICBpZihjaG9zZW5EZWFkbGluZSA9PT0gJycpeyBcclxuICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY29sb3IgPSAncmdiYSgyNiwgMTUzLCAyNiknO1xyXG4gICAgICAgICB9ICAgIFxyXG4gICAgfSlcclxuICAgIGRlYWRsaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKGUpPT4geyBcclxuICAgICAgICBpZihjaG9zZW5EZWFkbGluZSA9PT0gJycpeyBcclxuICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY29sb3IgPSAncmdiKDc4LCA3OCwgNzgpJztcclxuICAgICAgICAgfSAgIFxyXG4gICAgfSlcclxufSlcclxuXHJcbiAgICBmb3IobGV0IGk9MDsgaTxkZWFkbGluZXMubGVuZ3RoOyBpKyspeyAgLy8gcmVtZW1iZXJzIHdoaWNoIGRlYWRsaW5lIGhhdmUgeW91IGNob29zZSBcclxuXHJcbiAgICAgZGVhZGxpbmVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT4ge1xyXG4gICAgICAgICAgICBkZWFkbGluZXMuZm9yRWFjaChkZWFkbGluZSA9PiB7IC8vY2xlYXJzIG90aGVyc1xyXG4gICAgICAgICAgICAgZGVhZGxpbmUuc3R5bGUuY29sb3IgPSAncmdiKDc4LDc4LDc4KSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY29sb3IgPSAncmdiYSgyNiwgMTUzLCAyNiknOyAvL2hpZ2hsaWdodHMgdGhlIGNob3NlblxyXG4gICAgICAgICAgICByZXR1cm4gY2hvc2VuRGVhZGxpbmUgPSBpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4vL3NhdmUgdGFzayBtb2R1bGUgZnVuY3Rpb25hbGl0eSBcclxuY29uc3Qgc2F2ZVRhc2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZVRhc2snKTtcclxuXHJcbnNhdmVUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYodGFza05hbWVJbnB1dC52YWx1ZSAhPSAwKXsgXHJcbiAgICAvL2NyZWF0ZXMgbmV3IHRhc2sgYW5kIHB1c2ggaXQgdG8gY29sbGVjdGlvblxyXG4gICAgY29uc3Qgbm90ZXNBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVzJyk7XHJcbiAgICBsZXQgbmV3VGFzayA9IG1ha2VUYXNrKHRhc2tOYW1lSW5wdXQudmFsdWUsIGNob3NlbkRlYWRsaW5lLCBub3Rlc0FyZWEudmFsdWUsIGNob3NlblRhZ3MsIGdldFRhc2spO1xyXG4gICAgbmV3VGFzay5wdXRUYXNrKCk7XHJcbiAgICB0YXNrc0NvbGxlY3Rpb24ucHVzaChuZXdUYXNrKTtcclxuICAgIHNob3dUYXNrKG5ld1Rhc2submFtZSwgbmV3VGFzay5kZWFkbGluZSwgbmV3VGFzay5pZCk7XHJcbiAgICAvL2NsZWFycyBtb2R1bGUgd2luZG93XHJcbiAgICBjaG9zZW5EZWFkbGluZSA9ICcnOyAvL3JldHVybnMgZGVhZGxpbmUgdG8gdW5jaG9zZW4gXHJcbiAgICBjaG9zZW5UYWdzID0gW107XHJcbiAgICBjbG9zZU1vZGFsKCk7IFxyXG4gICB9IGVsc2UgeyBcclxuICAgICAgIGFsZXJ0KFwiWW91IHNob3VsZCBlbnRlciBhdCBsZWFzdCBuYW1lIG9mIHRoZSB0YXNrXCIpXHJcbiAgIH1cclxufSlcclxuXHJcbnNhdmVUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7XHJcbiAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI2LCAxNTMsIDI2KSc7XHJcbn0pXHJcblxyXG5zYXZlVGFzay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHtcclxuICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcbn0pXHJcblxyXG4vL2RlYWRsaW5lV3JhcHBlciBmdW5jdGlvbmFsaXR5IFxyXG5jb25zdCB0b2RvRGVhZGxpbmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b2RvRGVhZGxpbmUnKSk7XHJcbnRvZG9EZWFkbGluZXMuZm9yRWFjaCh0b2RvRGVhZGxpbmUgPT4geyBcclxuICAgIHRvZG9EZWFkbGluZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSkgPT4geyBcclxuICAgICAgICBpZighZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyl7XHJcbiAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJvcmRlckJvdHRvbSA9ICcxLjVweCBzb2xpZCBncmV5JztcclxuICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY29sb3IgPSAnYmxhY2snO1xyXG4gICAgICAgIH0gZWxzZSB7IFxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ21vdXNlb24nKTtcclxuICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHRvZG9EZWFkbGluZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHsgXHJcbiAgICAgICAgaWYoIWUudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpe1xyXG4gICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3JkZXJCb3R0b20gPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3JnYigxMDAsIDEwMCwgMTAwKSc7XHJcbiAgICAgICAgfSBlbHNlIHsgXHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnbW91c2VvbicpO1xyXG4gICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdG9kb0RlYWRsaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgXHJcbiAgICAgICAgaWYoZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyl7IFxyXG4gICAgICAgICAgICBlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICB9IGVsc2UgeyBcclxuICAgICAgICAgICAgZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9KVxyXG59KVxyXG5cclxuLy9jb21wbGV0ZUJ1dHRvbnMgZnVuY2lvbmFsaXR5ICBcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgXHJcbiAgICBpZihlLnRhcmdldC5tYXRjaGVzKCcuY29tcGxldGVDaXJjbGUnKSkgeyBcclxuICAgICAgIHRyYW5zZmVyVGFzayhlLCB0YXNrc0NvbGxlY3Rpb24sIHJlZnJlc2hTdG9yYWdlZCAsIGdldFRhc2spO1xyXG4gICAgICAgY29uc29sZS5sb2codGFza3NDb2xsZWN0aW9uKVxyXG4gICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH1cclxufSlcclxuXHJcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGUpID0+IHsgXHJcbiAgICBpZihlLnRhcmdldC5tYXRjaGVzKCcuY29tcGxldGVDaXJjbGUnKSkgeyBcclxuICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3JkZXIgPSAnMnB4IHNvbGlkIGdyZWVuJ1xyXG4gICAgfVxyXG59KVxyXG5cclxuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7IFxyXG4gICAgaWYoZS50YXJnZXQubWF0Y2hlcygnLmNvbXBsZXRlQ2lyY2xlJykpIHsgXHJcbiAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyID0gJzEuOTlweCBzb2xpZCBibGFjaydcclxuICAgIH1cclxufSlcclxuXHJcblxyXG4vL2NvbXBsZXRlZFRhc2tzIGZ1bmN0aW9uYWxpdHkgXHJcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGUpID0+IHsgXHJcbiAgICBpZihlLnRhcmdldC5tYXRjaGVzKCcuY29tcGxldGVkVGFzaycpKSB7IFxyXG4gICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnbW91c2VvbicpOyBcclxuICAgIH1cclxufSlcclxuXHJcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoZSkgPT4geyBcclxuICAgIGlmKGUudGFyZ2V0Lm1hdGNoZXMoJy5jb21wbGV0ZWRUYXNrJykpIHsgXHJcbiAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdtb3VzZW9uJyk7IFxyXG4gICAgfVxyXG59KVxyXG5cclxuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+IHsgLy9tYWtlcyBjb21wbGV0ZWQgdGFza3Mgb24gY2xpY2sgcmV0dXJuIGJhY2sgdG8gaXQncyBwbGFjZVxyXG4gICAgaWYoZS50YXJnZXQubWF0Y2hlcygnLmNvbXBsZXRlZFRhc2snKSkgeyBcclxuICAgICAgICBzaG93VGFzayhyZXR1cm5Gcm9tQ29tcGxldGVkKGUsIHRhc2tzQ29sbGVjdGlvbilbMF0scmV0dXJuRnJvbUNvbXBsZXRlZChlLCB0YXNrc0NvbGxlY3Rpb24pWzFdLHJldHVybkZyb21Db21wbGV0ZWQoZSwgdGFza3NDb2xsZWN0aW9uKVsyXSk7XHJcbiAgICAgICAgZS50YXJnZXQucmVtb3ZlKCk7XHJcbiAgICAgfVxyXG4gfSlcclxuXHJcbiAvL3RhZ3MgZnVuY3Rpb25hbGl0eSBcclxuY29uc3QgdGFncyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhZycpKTsgLy9hZGRzIHRhZ3MgdG8gY2hvc2VuIGFycmF5IGFuZCBsaWdodHMgdXAgY2hvc2VuXHJcbnRhZ3MuZm9yRWFjaCh0YWcgPT4geyAgXHJcbiAgICB0YWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PiB7XHJcbiAgICAgICAgY2hvc2VUYWcoZSwgY2hvc2VuVGFncyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coY2hvc2VuVGFncyk7XHJcbiAgICAgICAgbGlnaHRUaGVUYWcoY2hvc2VuVGFncyk7XHJcbiAgICB9KVxyXG59KVxyXG5cclxuIC8vdGFzayBpbmZvIFxyXG4gYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7IFxyXG4gICAgIGlmKGUudGFyZ2V0Lm1hdGNoZXMoJy50YXNrTmFtZScpKXtcclxuICAgICAgICAgY2hvc2VuVGFncyA9IG9wZW5Nb2RhbEluZm8oZSwgbGlnaHRUaGVUYWcsIHRhc2tzQ29sbGVjdGlvbiwgY2hvc2VuVGFncylcclxuICAgICB9IFxyXG59KSBcclxuXHJcbi8vYXBwbHkgY2hhbmdlcyBidXR0b24gIFxyXG5jb25zdCBhcHBseUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHBseScpXHJcbmFwcGx5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgXHJcbiAgICBhcHBseUNoYW5nZXMoZSwgY2hvc2VuVGFncywgdGFza3NDb2xsZWN0aW9uLCBjaG9zZW5EZWFkbGluZSwgc2hvd1Rhc2ssIHJlZnJlc2hTdG9yYWdlZCwgZ2V0VGFzayk7IFxyXG4gICAgY2xvc2VNb2RhbEluZm8oKTtcclxufSlcclxuXHJcbi8vY2hhbmdlIGRlYWRsaW5lIGZ1bmN0aW9uYWxpdHlcclxuY29uc3QgaW5mb0RlYWRsaW5lID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbmZvRGVhZGxpbmUnKSk7XHJcblxyXG5pbmZvRGVhZGxpbmUuZm9yRWFjaCggYnV0dG9uID0+IHsgXHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PiB7IFxyXG4gICAgICAgIGluZm9EZWFkbGluZS5mb3JFYWNoKGRpdiA9PiB7IFxyXG4gICAgICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSAncmdiKDc4LDc4LDc4KSc7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY2hvc2VuRGVhZGxpbmUgPSBjaGFuZ2VEZWFkbGluZShlLCBjaG9zZW5EZWFkbGluZSk7XHJcbiAgICB9KVxyXG59KVxyXG5cclxuLy9jYW5jZWwgYnV0dG9uIGZ1bmN0aW9uYWxpdHkgXHJcbmNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWwnKTsgXHJcbmNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4geyBcclxuICAgIGNsb3NlTW9kYWxJbmZvKCk7XHJcbiAgICBjaG9zZW5EZWFkbGluZSA9ICcnO1xyXG4gICAgY2hvc2VuVGFncyA9IFtdO1xyXG59KVxyXG5cclxuLy9uYXZpZ2F0aW9uIGZ1bmN0aW9uYWxpdHkgXHJcbmNvbnN0IG5hdmlnYXRpb25UYWdzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduYXZpZ2F0aW9uVGFnJykpIFxyXG5uYXZpZ2F0aW9uVGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcblxyXG4gICAgdGFnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7IFxyXG4gICAgICAgIHRhZy5jbGFzc0xpc3QuYWRkKGUudGFyZ2V0LmlkKVxyXG4gICAgfSlcclxuXHJcbiAgICB0YWcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChlKSA9PiB7XHJcbiAgICAgICAgaWYoIUFycmF5LmZyb20oZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlKS5pbmNsdWRlcygnYycpKXsgXHJcbiAgICAgICAgICAgIHRhZy5jbGFzc0xpc3QucmVtb3ZlKGUudGFyZ2V0LmlkKVxyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgfSlcclxuXHJcbiAgICB0YWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgaWYoQXJyYXkuZnJvbShlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUpLmluY2x1ZGVzKCdjJykpe1xyXG4gICAgICAgICAgICB0YWcuY2xhc3NMaXN0LnJlbW92ZShlLnRhcmdldC5pZClcclxuICAgICAgICAgICAgdGFnLmNsYXNzTGlzdC5yZW1vdmUoJ2Nob3NlbicpXHJcbiAgICAgICAgICAgIGNsZWFuRmlsdGVycyh0YXNrc0NvbGxlY3Rpb24pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25UYWdzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZWxlbWVudC5pZClcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2hvc2VuJylcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0YWcuY2xhc3NMaXN0LmFkZChlLnRhcmdldC5pZClcclxuICAgICAgICAgICAgdGFnLmNsYXNzTGlzdC5hZGQoJ2Nob3NlbicpXHJcbiAgICAgICAgICAgIHNob3dUYWdlZFRhc2tzKGUsIHRhc2tzQ29sbGVjdGlvbikgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxufSkiLCJmdW5jdGlvbiB0cmFuc2ZlclRhc2soZSwgdGFza3NDb2xsZWN0aW9uLCByZWZyZXNoU3RvcmFnZWQgLCBnZXRUYXNrKSB7IFxyXG4gICAgY29uc3QgdGFza0lkID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudmFsdWU7XHJcbiAgICBsZXQgdGFzayA9IDA7XHJcbiAgICBcclxuICAgIGZvcihsZXQgaT0wOyBpPHRhc2tzQ29sbGVjdGlvbi5sZW5ndGg7IGkrKyl7IFxyXG4gICAgICAgIGlmKHRhc2tJZCA9PSB0YXNrc0NvbGxlY3Rpb25baV0uaWQpIHsgXHJcbiAgICAgICAgICAgIHRhc2sgPSB0YXNrc0NvbGxlY3Rpb25baV07XHJcbiAgICAgICAgICAgIHRhc2tzQ29sbGVjdGlvbltpXS5kZWxldGVkID0gdHJ1ZTsvL2RlbGV0ZXMgZnJvbSBsb2NhbHN0b3JhZ2VcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGxldGVkVGFza3NIb2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGV0ZWRUYXNrcycpOyBcclxuICAgIGNvbnN0IGNvbXBsZXRlZFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkZWwnKTsgXHJcbiAgICBjb21wbGV0ZWRUYXNrLmlubmVyVGV4dCA9IHRhc2submFtZTsgXHJcblxyXG4gICAgY29tcGxldGVkVGFzay5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWRUYXNrJyk7XHJcbiAgICBjb21wbGV0ZWRUYXNrLnNldEF0dHJpYnV0ZSgnaWQnLCB0YXNrLmlkKVxyXG4gICAgY29tcGxldGVkVGFza3NIb2xkZXIuYXBwZW5kQ2hpbGQoY29tcGxldGVkVGFzayk7XHJcbiAgICByZWZyZXNoU3RvcmFnZWQodGFza3NDb2xsZWN0aW9uLCBnZXRUYXNrKVxyXG4gICAgcmV0dXJuIHRhc2tzQ29sbGVjdGlvblxyXG59IFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdHJhbnNmZXJUYXNrIiwiZnVuY3Rpb24gY2hvc2VUYWcoZSwgY2hvc2VuVGFncyl7XHJcblxyXG4gICAgaWYoY2hvc2VuVGFncy5pbmNsdWRlcyhlLnRhcmdldC5pbm5lclRleHQpKXsgXHJcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8Y2hvc2VuVGFncy5sZW5ndGg7IGkrKyl7IFxyXG4gICAgICAgICAgIGlmKGNob3NlblRhZ3NbaV0gPT0gZS50YXJnZXQuaW5uZXJUZXh0KXsgXHJcbiAgICAgICAgICAgICAgIGNob3NlblRhZ3Muc3BsaWNlKGksIDEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNob3NlblRhZ3MucHVzaChlLnRhcmdldC5pbm5lclRleHQpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hvc2VuVGFnc1xyXG59IFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2hvc2VUYWdcclxuIiwiZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKGUsIGNob3NlblRhZ3MsIHRhc2tzQ29sbGVjdGlvbiwgY2hvc2VuRGVhZGxpbmUsIHNob3dUYXNrLCAgcmVmcmVzaFN0b3JhZ2VkLCBnZXRUYXNrKSB7IFxyXG5cclxuICAgIC8vdGFncyBjaGFuZ2VcclxuICAgIGNvbnN0IHRhc2tJZCA9IGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZTtcclxuICAgIGxldCB0YXNrID0gJyc7XHJcbiAgICBcclxuICAgIGZvcihsZXQgaT0wOyBpPHRhc2tzQ29sbGVjdGlvbi5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgaWYodGFza0lkID09IHRhc2tzQ29sbGVjdGlvbltpXS5pZCl7IFxyXG4gICAgICAgICAgICB0YXNrID0gdGFza3NDb2xsZWN0aW9uW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0YXNrLnRhZ3MgPSBjaG9zZW5UYWdzO1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSh0YXNrSWQpXHJcblxyXG4gICAgLy9kYXRlIGNoYW5nZVxyXG4gICAgaWYodGFzay5kZWFkbGluZSAhPSBjaG9zZW5EZWFkbGluZSl7IFxyXG4gICAgICAgIHRhc2suZGVhZGxpbmUgPSBjaG9zZW5EZWFkbGluZTtcclxuICAgICAgICBsZXQgb2xkVGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhc2suaWQpXHJcbiAgICAgICAgb2xkVGFzay5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHNob3dUYXNrKHRhc2submFtZSwgdGFzay5kZWFkbGluZSwgdGFzay5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFN0b3JhZ2VkKHRhc2tzQ29sbGVjdGlvbiwgZ2V0VGFzaylcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwbHlDaGFuZ2VzIiwiZnVuY3Rpb24gY2hhbmdlRGVhZGxpbmUoZSwgY2hvc2VuRGVhZGxpbmUpe1xyXG5cclxuICAgIGUudGFyZ2V0LnN0eWxlLmNvbG9yID0gJ3JnYigyNiwgMTUzLCAyNiknO1xyXG4gICAgXHJcbiAgICBpZihlLnRhcmdldC5pbm5lclRleHQgPT0gJ1RvZGF5Jyl7IFxyXG4gICAgICAgIGNob3NlbkRlYWRsaW5lID0gMDtcclxuICAgIH1cclxuICAgIGlmKGUudGFyZ2V0LmlubmVyVGV4dCA9PSAnVG9tbW9yb3cnKXsgXHJcbiAgICAgICAgY2hvc2VuRGVhZGxpbmUgPSAxO1xyXG4gICAgfVxyXG4gICAgaWYoZS50YXJnZXQuaW5uZXJUZXh0ID09ICdTb21lZGF5Jyl7IFxyXG4gICAgICAgIGNob3NlbkRlYWRsaW5lID0gMjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmV0dXJuIGNob3NlbkRlYWRsaW5lXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNoYW5nZURlYWRsaW5lIiwiZnVuY3Rpb24gc2hvd1RhZ2VkVGFza3MoZSwgdGFza3NDb2xsZWN0aW9uKXsgXHJcbiAgICBjb25zdCBjaG9zZW5UYWcgPSBlLnRhcmdldC5pbm5lclRleHRcclxuICAgIGNvbnN0IHRhc2tzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YXNrTmFtZScpKTtcclxuICAgIGxldCBtYXRjaGVkVGFza3MgPSBbXTtcclxuXHJcbiAgICBmb3IobGV0IGk9MDsgaTx0YXNrc0NvbGxlY3Rpb24ubGVuZ3RoOyBpKyspeyBcclxuICAgICAgICBmb3IobGV0IGo9MDsgajx0YXNrc0NvbGxlY3Rpb24ubGVuZ3RoOyBqKyspeyBcclxuICAgICAgICAgICAgaWYoY2hvc2VuVGFnID09IHRhc2tzQ29sbGVjdGlvbltpXS50YWdzW2pdKXsgXHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkVGFza3MucHVzaCh0YXNrc0NvbGxlY3Rpb25baV0uaWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcclxuICAgICAgICB0YXNrLnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBmb3IobGV0IGk9MDsgaTx0YXNrcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKG1hdGNoZWRUYXNrc1tpXSA9PSB0YXNrLmlkKXsgXHJcbiAgICAgICAgICAgICAgICB0YXNrLnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFuRmlsdGVycyh0YXNrc0NvbGxlY3Rpb24peyBcclxuICAgIGNvbnN0IHRhc2tzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YXNrTmFtZScpKTtcclxuICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XHJcbiAgICAgICAgICAgIHRhc2sucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IHtzaG93VGFnZWRUYXNrcywgY2xlYW5GaWx0ZXJzfSJdLCJuYW1lcyI6WyJjbG9zZU1vZGFsIiwibW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib3ZlcmxheSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInZhbHVlIiwibmFtZSIsImRlYWRsaW5lIiwibm90ZXMiLCJ0YWdzIiwiZ2V0VGFzayIsImlkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicHV0VGFzayIsImNvbnNvbGUiLCJsb2ciLCJ0aGlzIiwiZGVsZXRlZCIsInVuZGVmaW5lZCIsInRhc2tzIiwidGFzayIsInB1c2giLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhZGQiLCJjb21wbGV0ZUNpcmNsZSIsInRhc2tOYW1lIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJlIiwidGFza3NDb2xsZWN0aW9uIiwidGFza0lkIiwidGFyZ2V0IiwiaSIsImxlbmd0aCIsImNsb3NlTW9kYWxJbmZvIiwibW9kYWxJbmZvIiwiYXBwbHlCdXR0b24iLCJjb250YWlucyIsImNob3NlblRhZ3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5jbHVkZXMiLCJ0YXNrc0xvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZSIsImNsZWFyIiwiZm9yRWFjaCIsImNob3NlbkRlYWRsaW5lIiwic3RvcmFnZWRUYXNrcyIsIm5ld1Rhc2siLCJhZGRBVGFza0J1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImxpZ2h0VGhlVGFnIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbG9yIiwib3Blbk1vZGFsIiwidGFza05hbWVJbnB1dCIsIm91dGxpbmUiLCJvdXRsaW5lV2lkdGgiLCJvdXRsaW5lQ29sb3IiLCJkZWFkbGluZXMiLCJzYXZlVGFzayIsIm5vdGVzQXJlYSIsImFsZXJ0IiwidG9kb0RlYWRsaW5lIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImJvcmRlckJvdHRvbSIsIm5leHRFbGVtZW50U2libGluZyIsImRpc3BsYXkiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsIm1hdGNoZXMiLCJyZWZyZXNoU3RvcmFnZWQiLCJwYXJlbnRFbGVtZW50IiwiY29tcGxldGVkVGFza3NIb2xkZXIiLCJjb21wbGV0ZWRUYXNrIiwiYm9yZGVyIiwidGFnIiwic3BsaWNlIiwiaW5mb0RlYWRsaW5lcyIsImVsZW1lbnQiLCJvcGVuTW9kYWxJbmZvIiwic2hvd1Rhc2siLCJpbmZvRGVhZGxpbmUiLCJidXR0b24iLCJkaXYiLCJuYXZpZ2F0aW9uVGFncyIsImNob3NlblRhZyIsIm1hdGNoZWRUYXNrcyIsImoiLCJzaG93VGFnZWRUYXNrcyJdLCJzb3VyY2VSb290IjoiIn0=